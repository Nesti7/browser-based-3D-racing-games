# üêõ –û—Ç–ª–∞–¥–∫–∞ "–Ω–µ–±–µ—Å–Ω–æ-—Å–∏–Ω–µ–≥–æ —ç–∫—Ä–∞–Ω–∞"

## –ü—Ä–æ–±–ª–µ–º–∞
–ù–∞ —ç–∫—Ä–∞–Ω–µ –≤–∏–¥–Ω–æ —Ç–æ–ª—å–∫–æ –Ω–µ–±–µ—Å–Ω–æ-—Å–∏–Ω–∏–π —Ñ–æ–Ω (—Ü–≤–µ—Ç –Ω–µ–±–∞), –Ω–æ –≥—Ä—É–∑–æ–≤–∏–∫–∞ –∏ –¥–æ—Ä–æ–≥–∏ –Ω–µ –≤–∏–¥–Ω–æ.

## –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã

### 1. –ì—Ä—É–∑–æ–≤–∏–∫ –ø–∞–¥–∞–µ—Ç —Å–∫–≤–æ–∑—å –∑–µ–º–ª—é
**–°–∏–º–ø—Ç–æ–º—ã:** –í –∫–æ–Ω—Å–æ–ª–∏ –≤–∏–¥–Ω–æ, —á—Ç–æ –ø–æ–∑–∏—Ü–∏—è Y —É—Ö–æ–¥–∏—Ç –≤ –º–∏–Ω—É—Å.

**–†–µ—à–µ–Ω–∏–µ:**
- –ü—Ä–æ–≤–µ—Ä—å –≤ –∫–æ–Ω—Å–æ–ª–∏ (F12): `[Physics Debug] Position: ...`
- –ï—Å–ª–∏ Y < 0 ‚Üí –≥—Ä—É–∑–æ–≤–∏–∫ –ø—Ä–æ–≤–∞–ª–∏–ª—Å—è
- –£–≤–µ–ª–∏—á—å –Ω–∞—á–∞–ª—å–Ω—É—é –ø–æ–∑–∏—Ü–∏—é Y –∏–ª–∏ –ø—Ä–æ–≤–µ—Ä—å —Å–æ–∑–¥–∞–Ω–∏–µ –∑–µ–º–ª–∏

### 2. –ö–∞–º–µ—Ä–∞ —Å–º–æ—Ç—Ä–∏—Ç –Ω–µ —Ç—É–¥–∞
**–°–∏–º–ø—Ç–æ–º—ã:** –í –∫–æ–Ω—Å–æ–ª–∏ –ø–æ–∑–∏—Ü–∏—è –≥—Ä—É–∑–æ–≤–∏–∫–∞ –Ω–æ—Ä–º–∞–ª—å–Ω–∞—è (Y > 0), –Ω–æ –Ω–∏—á–µ–≥–æ –Ω–µ –≤–∏–¥–Ω–æ.

**–†–µ—à–µ–Ω–∏–µ:**
- –ü—Ä–æ–≤–µ—Ä—å –≤ –∫–æ–Ω—Å–æ–ª–∏ –ø–æ–ª–æ–∂–µ–Ω–∏–µ –∫–∞–º–µ—Ä—ã: `console.log(game.camera.position)`
- –ü–æ–ø—Ä–æ–±—É–π –≤—Ä—É—á–Ω—É—é —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∫–∞–º–µ—Ä—É: `game.camera.position.set(0, 10, 20)`

### 3. Cannon.js –Ω–µ –∑–∞–≥—Ä—É–∑–∏–ª—Å—è
**–°–∏–º–ø—Ç–æ–º—ã:** –û—à–∏–±–∫–∞ –≤ –∫–æ–Ω—Å–æ–ª–∏ —Ç–∏–ø–∞ "CANNON is not defined" –∏–ª–∏ "Failed to fetch cannon-es".

**–†–µ—à–µ–Ω–∏–µ:**
- –ü—Ä–æ–≤–µ—Ä—å –≤ –∫–æ–Ω—Å–æ–ª–∏: `console.log(typeof CANNON)`
- –ï—Å–ª–∏ "undefined" ‚Üí –ø—Ä–æ–±–ª–µ–º–∞ —Å CDN, –ø–æ–ø—Ä–æ–±—É–π –¥—Ä—É–≥–æ–π –∏—Å—Ç–æ—á–Ω–∏–∫

### 4. –í–∏–∑—É–∞–ª—å–Ω–∞—è –º–æ–¥–µ–ª—å –Ω–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç—Å—è
**–°–∏–º–ø—Ç–æ–º—ã:** –í –∫–æ–Ω—Å–æ–ª–∏ –ø–æ–∑–∏—Ü–∏—è –≥—Ä—É–∑–æ–≤–∏–∫–∞ –º–µ–Ω—è–µ—Ç—Å—è, –Ω–æ –≤–∏–∑—É–∞–ª—å–Ω–æ –Ω–∏—á–µ–≥–æ –Ω–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç.

**–†–µ—à–µ–Ω–∏–µ:**
- –ü—Ä–æ–≤–µ—Ä—å –≤ –∫–æ–Ω—Å–æ–ª–∏: `console.log(game.truck.group.position)`
- –°—Ä–∞–≤–Ω–∏ —Å –ø–æ–∑–∏—Ü–∏–µ–π —Ñ–∏–∑–∏–∫–∏: `console.log(game.physics.chassisBody.position)`

---

## –ë—ã—Å—Ç—Ä–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

–û—Ç–∫—Ä–æ–π –∫–æ–Ω—Å–æ–ª—å (F12) –∏ –≤—ã–ø–æ–ª–Ω–∏:

```javascript
// 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ Cannon.js
console.log('Cannon.js:', typeof CANNON !== 'undefined' ? '–ó–ê–ì–†–£–ñ–ï–ù ‚úÖ' : '–ù–ï –ó–ê–ì–†–£–ñ–ï–ù ‚ùå');

// 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–∏–∑–∏–∫–∏
console.log('Physics:', game.physics ? '–°–û–ó–î–ê–ù ‚úÖ' : '–ù–ï –°–û–ó–î–ê–ù ‚ùå');

// 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–∑–∏—Ü–∏–∏ –≥—Ä—É–∑–æ–≤–∏–∫–∞
if (game.physics) {
    const pos = game.physics.chassisBody.position;
    console.log('–ü–æ–∑–∏—Ü–∏—è –≥—Ä—É–∑–æ–≤–∏–∫–∞ (—Ñ–∏–∑–∏–∫–∞):', pos);
    console.log('Y-–∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞:', pos.y, pos.y > 0 ? '‚úÖ –ù–∞–¥ –∑–µ–º–ª—ë–π' : '‚ùå –ü–æ–¥ –∑–µ–º–ª—ë–π');
}

// 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–∏–∑—É–∞–ª—å–Ω–æ–π –º–æ–¥–µ–ª–∏
console.log('–ü–æ–∑–∏—Ü–∏—è –≥—Ä—É–∑–æ–≤–∏–∫–∞ (–≤–∏–∑—É–∞–ª):', game.truck.group.position);

// 5. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞–º–µ—Ä—ã
console.log('–ü–æ–∑–∏—Ü–∏—è –∫–∞–º–µ—Ä—ã:', game.camera.position);
console.log('–ö–∞–º–µ—Ä–∞ —Å–º–æ—Ç—Ä–∏—Ç –Ω–∞:', game.camera.getWorldDirection(new THREE.Vector3()));

// 6. –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–±—ä–µ–∫—Ç–æ–≤ –≤ —Å—Ü–µ–Ω–µ
console.log('–û–±—ä–µ–∫—Ç–æ–≤ –≤ —Å—Ü–µ–Ω–µ:', game.scene.children.length);

// 7. –ü—Ä–æ–≤–µ—Ä–∫–∞ controls
console.log('Controls:', game.truckController.controls);
```

---

## –†—É—á–Ω–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ (–µ—Å–ª–∏ —ç–∫—Ä–∞–Ω —Å–∏–Ω–∏–π)

### –í–∞—Ä–∏–∞–Ω—Ç 1: –¢–µ–ª–µ–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–∞–º–µ—Ä—É
```javascript
// –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∫–∞–º–µ—Ä—É –Ω–∞–¥ –≥—Ä—É–∑–æ–≤–∏–∫–æ–º
game.camera.position.set(0, 10, 20);
game.camera.lookAt(0, 0, 0);
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –¢–µ–ª–µ–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –≥—Ä—É–∑–æ–≤–∏–∫
```javascript
// –§–∏–∑–∏–∫–∞
game.physics.chassisBody.position.set(0, 2, 0);
game.physics.chassisBody.velocity.set(0, 0, 0);

// –í–∏–∑—É–∞–ª
game.truck.group.position.set(0, 2, 0);
```

### –í–∞—Ä–∏–∞–Ω—Ç 3: –û—Ç–∫–ª—é—á–∏—Ç—å —Ç—É–º–∞–Ω
```javascript
// –ï—Å–ª–∏ —Ç—É–º–∞–Ω —Å–∫—Ä—ã–≤–∞–µ—Ç –≤—Å—ë
game.scene.fog = null;
```

### –í–∞—Ä–∏–∞–Ω—Ç 4: –í–∫–ª—é—á–∏—Ç—å —Å—Ç–∞—Ä—É—é —Ñ–∏–∑–∏–∫—É –≤—Ä–µ–º–µ–Ω–Ω–æ
–í `js/Game.js`, –≤ –º–µ—Ç–æ–¥–µ `update()`, –∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π —Å—Ç—Ä–æ–∫—É —Å Physics:
```javascript
// this.physics.update(this.deltaTime, this.truckController.controls);
this.truckController.update(this.deltaTime);  // –†–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π —ç—Ç—É —Å—Ç—Ä–æ–∫—É
```

---

## –ß—Ç–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –≤ –∫–æ–Ω—Å–æ–ª–∏ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ

```
=== 3D –ì–æ–Ω–∫–∏ –Ω–∞ –ì—Ä—É–∑–æ–≤–∏–∫–∞—Ö ===
–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è...
[Main] –ó–∞–ø—É—Å–∫ –≤ –æ–±—ã—á–Ω–æ–º –±—Ä–∞—É–∑–µ—Ä–µ
[Main] –°–æ–∑–¥–∞–Ω–∏–µ –∏–≥—Ä—ã...
[Game] –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è...
[Game] 1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å—Ü–µ–Ω—ã...
[Game] 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ—Å–≤–µ—â–µ–Ω–∏—è...
[Game] 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–∞–º–µ—Ä—ã...
[Game] 4. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–µ–Ω–¥–µ—Ä–µ—Ä–∞...
[Game] 5. –°–æ–∑–¥–∞–Ω–∏–µ –∏–≥—Ä–æ–≤—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤...
[Game] –°–æ–∑–¥–∞–Ω–∏–µ –≥—Ä—É–∑–æ–≤–∏–∫–∞...
[Game] –ì—Ä—É–∑–æ–≤–∏–∫ —Å–æ–∑–¥–∞–Ω, –¥–æ—á–µ—Ä–Ω–∏—Ö –æ–±—ä–µ–∫—Ç–æ–≤: ...
[Game] –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞ –≥—Ä—É–∑–æ–≤–∏–∫–∞...
[Game] –°–æ–∑–¥–∞–Ω–∏–µ —Ñ–∏–∑–∏—á–µ—Å–∫–æ–≥–æ –¥–≤–∏–∂–∫–∞ (Cannon.js)...
[Physics] –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Cannon.js –º–∏—Ä–∞...
[Physics] Solver iterations: 5
[Physics] –°–æ–∑–¥–∞–Ω–∏–µ RaycastVehicle...
[Physics] Chassis —Å–æ–∑–¥–∞–Ω –≤ –ø–æ–∑–∏—Ü–∏–∏: Vec3 { x: 0, y: 1.5, z: 0 }
[Physics] ‚úÖ RaycastVehicle —Å–æ–∑–¥–∞–Ω, –∫–æ–ª—ë—Å: 4
[Physics] –ù–∞—á–∞–ª—å–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è chassis: Vec3 { x: 0, y: 1.5, z: 0 }
[Physics] ‚úÖ –ó–µ–º–ª—è —Å–æ–∑–¥–∞–Ω–∞ (Plane –Ω–∞ y=0)
[Physics] ‚úÖ –§–∏–∑–∏—á–µ—Å–∫–∏–π –º–∏—Ä –≥–æ—Ç–æ–≤! Bodies: 2
[Physics] –§–∏–∑–∏—á–µ—Å–∫–∏–π –º–∏—Ä —Å–æ–∑–¥–∞–Ω —É—Å–ø–µ—à–Ω–æ!
[Game] –°–æ–∑–¥–∞–Ω–∏–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è...
[Game] –û–∫—Ä—É–∂–µ–Ω–∏–µ —Å–æ–∑–¥–∞–Ω–æ, –¥–æ—á–µ—Ä–Ω–∏—Ö –æ–±—ä–µ–∫—Ç–æ–≤: ...
[Game] –í—Å–µ–≥–æ –æ–±—ä–µ–∫—Ç–æ–≤ –≤ —Å—Ü–µ–Ω–µ: ...
[Game] 6. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç—É–º–∞–Ω–∞...
[Game] 7. –ó–∞–ø—É—Å–∫ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ FPS...
[Game] 8. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–∞–º–µ—Ä–æ–π...
[Game] ‚úÖ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ
[Main] Performance Class: ...
[Main] Settings: ...
[Main] –ó–∞–ø—É—Å–∫ –∏–≥—Ä–æ–≤–æ–≥–æ —Ü–∏–∫–ª–∞...
[Game] –ó–∞–ø—É—Å–∫ –∏–≥—Ä–æ–≤–æ–≥–æ —Ü–∏–∫–ª–∞
[Main] –ò–≥—Ä–∞ –∑–∞–ø—É—â–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ! ‚úÖ
[Main] –ü–∞–Ω–µ–ª—å —Ñ–∏–∑–∏–∫–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ –¥–ª—è Cannon.js ‚úÖ
```

–ï—Å–ª–∏ –≤—Å—ë –ø—Ä–∞–≤–∏–ª—å–Ω–æ, —á–µ—Ä–µ–∑ —Å–µ–∫—É–Ω–¥—É –Ω–∞—á–Ω—É—Ç –ø–æ—è–≤–ª—è—Ç—å—Å—è –ª–æ–≥–∏:
```
[Physics Debug] Position: Vec3 { x: 0, y: 1.48, z: 0 } Velocity: 0.00
```

---

## –ï—Å–ª–∏ –Ω–∏—á–µ–≥–æ –Ω–µ –ø–æ–º–æ–≥–∞–µ—Ç

1. **–ü–æ–ø—Ä–æ–±—É–π –æ—Ç–∫—Ä—ã—Ç—å —á–µ—Ä–µ–∑ –¥—Ä—É–≥–æ–π –±—Ä–∞—É–∑–µ—Ä** (Chrome, Firefox)
2. **–ü—Ä–æ–≤–µ—Ä—å WebGL:** https://get.webgl.org/
3. **–û—Ç–∫–ª—é—á–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –±—Ä–∞—É–∑–µ—Ä–∞** (–º–æ–≥—É—Ç –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å CDN)
4. **–û—á–∏—Å—Ç–∏ –∫—ç—à** (Ctrl+Shift+Delete)
5. **–ü—Ä–æ–≤–µ—Ä—å –∫–æ–Ω—Å–æ–ª—å –Ω–∞ –∫—Ä–∞—Å–Ω—ã–µ –æ—à–∏–±–∫–∏**

---

## –ö–æ–Ω—Ç–∞–∫—Ç—ã –¥–ª—è –ø–æ–º–æ—â–∏

–ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –æ—Å—Ç–∞–ª–∞—Å—å, –Ω–∞–ø–∏—à–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏:
```javascript
// –ü–æ–ª–Ω—ã–π –¥–∞–º–ø –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
console.log('=== DEBUG DUMP ===');
console.log('Cannon.js:', typeof CANNON);
console.log('Physics exists:', !!game.physics);
console.log('Truck position (visual):', game.truck.group.position);
if (game.physics) {
    console.log('Truck position (physics):', game.physics.chassisBody.position);
    console.log('Truck velocity:', game.physics.chassisBody.velocity);
}
console.log('Camera position:', game.camera.position);
console.log('Scene children:', game.scene.children.length);
console.log('=================');
```

–ò –æ—Ç–ø—Ä–∞–≤—å –º–Ω–µ –≤—ã–≤–æ–¥!

